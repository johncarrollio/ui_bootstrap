(function(){var t;t=jQuery,t.fn.flexNav=function(e){var n,s,i,a,o,l,h,u,r,d,c,v;return r=t.extend({animationSpeed:250,transitionOpacity:!0,buttonSelector:".menu-button",hoverIntent:!1,hoverIntentTimeout:150,calcItemWidths:!0,hover:!0,subnav:!1},e),n=t(this),n.addClass("with-js"),r.transitionOpacity===!0&&n.addClass("opacity"),n.find("li").each(function(){return t(this).has("ul").length?t(this).addClass("item-with-ul").find("ul").hide():void 0}),r.calcItemWidths===!0&&(s=n.find(">li"),a=s.length,l=100/a,o=l+"%"),n.data("breakpoint")&&(i=n.data("breakpoint")),d=function(){return n.hasClass("lg-screen")===!0&&r.hover===!0&&r.subnav===!1?r.transitionOpacity===!0?t(this).find("> ul").addClass("flexnav-show").stop(!0,!0).animate({height:["toggle","swing"],opacity:"toggle"},r.animationSpeed):t(this).find("> ul").addClass("flexnav-show").stop(!0,!0).animate({height:["toggle","swing"]},r.animationSpeed):void 0},h=function(){return n.hasClass("lg-screen")===!0&&t(this).find(">ul").hasClass("flexnav-show")===!0&&r.hover===!0&&r.subnav===!1?r.transitionOpacity===!0?t(this).find("> ul").removeClass("flexnav-show").stop(!0,!0).animate({height:["toggle","swing"],opacity:"toggle"},r.animationSpeed):t(this).find("> ul").removeClass("flexnav-show").stop(!0,!0).animate({height:["toggle","swing"]},r.animationSpeed):void 0},u=function(){var e;if(t(window).width()<=i)return n.removeClass("lg-screen").addClass("sm-screen"),r.calcItemWidths===!0&&s.css("width","100%"),e=r.buttonSelector+", "+r.buttonSelector+" .touch-button",t(e).removeClass("active"),t(".one-page li a").on("click",function(){return n.removeClass("flexnav-show")});if(t(window).width()>i){if(n.removeClass("sm-screen").addClass("lg-screen"),r.calcItemWidths===!0&&s.css("width",o),n.removeClass("flexnav-show").find(".item-with-ul").on(),t(".item-with-ul").find("ul").removeClass("flexnav-show"),h(),r.hoverIntent===!0)return t(".item-with-ul").hoverIntent({over:d,out:h,timeout:r.hoverIntentTimeout});if(r.hoverIntent===!1)return t(".item-with-ul").on("mouseenter",d).on("mouseleave",h)}},t(r.buttonSelector).data("navEl",n),v="nav > ul > .item-with-ul > a",t(v).append('<i class="fa fa-chevron-down touch-button hide-for-small"></i>'),touch_selector_mobile="nav > ul > .item-with-ul",t(touch_selector_mobile).append('<span class="touch-button touch-button-small show-for-small"></span>'),touch_selector_sub=".item-with-ul ul .item-with-ul > a",t(touch_selector_sub).append('<span class="hide-for-small"><i class="fa fa-chevron-right"></i></span>'),touch_selector_sub_mobile=".item-with-ul ul .item-with-ul",t(touch_selector_sub_mobile).append('<span class="touch-button touch-button-small show-for-small"></span>'),c=r.buttonSelector+", "+r.buttonSelector+" .touch-button",t(c).on("click",function(e){var n,s,i;return t(c).toggleClass("active"),e.preventDefault(),e.stopPropagation(),i=r.buttonSelector,n=t(this).is(i)?t(this):t(this).parent(i),s=n.data("navEl"),s.toggleClass("flexnav-show")}),t(".touch-button").on("click",function(e){var s,i;return s=t(this).parent(".item-with-ul").find(">ul"),i=t(this).parent(".item-with-ul").find(">span.touch-button"),n.hasClass("lg-screen")===!0&&t(this).parent(".item-with-ul").siblings().find("ul.flexnav-show").removeClass("flexnav-show").hide(),s.hasClass("flexnav-show")===!0?(s.removeClass("flexnav-show").slideUp(r.animationSpeed),i.removeClass("active")):s.hasClass("flexnav-show")===!1?(s.addClass("flexnav-show").slideDown(r.animationSpeed),i.addClass("active")):void 0}),n.find(".item-with-ul *").focus(function(){return t(this).parent(".item-with-ul").parent().find(".open").not(this).removeClass("open").hide(),t(this).parent(".item-with-ul").find(">ul").addClass("open").show()}),u(),n.hasClass("lg-screen")===!0&&(r.subnav===!0?t(".flexnav > li").hover(function(){t(this).find("> a").addClass("active-tab"),t(".flexnav > li").not(this).find("> a").removeClass("active-tab"),r.transitionOpacity===!0?t(this).find("> ul").addClass("flexnav-show").stop(!0,!0).animate({height:["swing"]},r.animationSpeed).show():t(this).find("> ul").addClass("flexnav-show").stop(!0,!0).animate({height:["swing"]},r.animationSpeed).show(),t(".flexnav > li").not(this).find("> ul").removeClass("flexnav-show").hide()}):t(".flexnav > li").hover(function(){t(this).find("> a").toggleClass("active-tab"),t(".flexnav > li").not(this).find("> a").removeClass("active-tab")})),t(window).on("resize",u)}}).call(this);